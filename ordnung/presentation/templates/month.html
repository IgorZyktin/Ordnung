{% extends "base.html" %}

{%- block add_to_head %}
    <link href="{{ url_for('static', path='month.css') }}" rel="stylesheet" type="text/css">
    <script src="{{ url_for('static', path='month.js') }}"></script>
{% endblock %}

{%- block content %}
<div class="global">

    <div class="month">

        {# Day labels here - Monday, Tuesday, etc. #}
        <div class="header">
            {%- for long_name, short_name in day_names %}
                <div class="labels">
                    <span class="wide">{{ long_name }}</span>
                    <span class="narrow">{{ short_name }}</span>
                </div>
            {% endfor -%}
        </div>

        {# Day contents here, five weeks of seven days #}
        {% for week_index in range(5) %}
            <div class="week">
                {% for day_index in range(7) %}
                    {% set index = day_index + week_index * 7 %}
                    {% set day = month[index] %}
                    {% set day_records = records[day.target_date] %}

                    {% if day.is_today %}
                        {% set _today = ' today' %}
                    {% else %}
                        {% set _today = '' %}
                    {% endif %}

                    {% if day.is_weekend %}
                        {% set _weekend = ' weekend' %}
                    {% else %}
                        {% set _weekend = '' %}
                    {% endif %}

                    <div class="day{{ _today }}{{ _weekend }}" onclick="relocate('{{ url_for('show_day', chosen_date=day.target_date) }}')">
                        <span class="day_label wide">{{ day.number }} {{ day.month }}</span>
                        <span class="day_label narrow">{{ day.number }}</span>
{#                        {% for record in day_records %}#}
{#                            <span class="day-record">{{ loop.index }}. {{ record.title }}</span>#}
{#                        {% endfor %}#}
                    </div>

                {% endfor %}
            </div>
        {% endfor %}

        {# Navigation buttons here #}
        <div class="footer">

            <div id="leap_back" onclick="relocate('{{ leap_back }}')">
                <span class="wide">{{ lexis.leap_back }}</span>
                <span class="narrow"><--</span>
            </div>

            <div id ="step_back" onclick="relocate('{{ step_back }}')">
                <span class="wide">{{ lexis.step_back }}</span>
                <span class="narrow"><</span>
            </div>

            <div id ="step_on_date" onclick="">
                <span class="wide">{{ lexis.step_on_date }}</span>
                <span class="narrow">>|<</span>
            </div>

            <div id="step_forward" onclick="relocate('{{ step_forward }}')">
                <span class="wide">{{ lexis.step_forward }}</span>
                <span class="narrow">></span>
            </div>

            <div id="leap_forward" onclick="relocate('{{ leap_forward }}')">
                <span class="wide">{{ lexis.leap_forward }}</span>
                <span class="narrow">--></span>
            </div>
        </div>

    </div>

    <div id="menu_toggle" class="menu_toggle"></div>
    <div id="menu" class="menu">
        <span class="task">Задача 1</span>
        <span class="task">Задача 1</span>
        <span class="task">Задача 1</span>
        <span class="task">Задача 1</span>
        <span class="task">Задача 1</span>
        <span class="task">Задача 1</span>
        <hr>
        <span class="task">Задача 1</span>
        <span class="task">Задача 1</span>
        <span class="task">Задача 1</span>
        <span class="task">Задача 1</span>
        <hr>
        <span class="task">Задача 1</span>
        <span class="task">Задача 1</span>
    </div>
</div>
{% endblock -%}